<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!--<script src="../../../target/classes/lib/kotlin.js"></script>-->
    <!--<script src="../../../target/classes/TRY.js"></script>-->

    <script>


//        var myRequest = new Request('http://localhost/flowers.jpg');
//
//        var myURL = myRequest.url; // http://localhost/flowers.jpg
//        var myMethod = myRequest.method; // GET
//        var myCred = myRequest.credentials; // omit
//
//        console.log()
//        var request = new Request('https://davidwalsh.name/users.json', {
//            method: 'get',
//            mode: 'no-cors',
//            redirect: 'follow',
//            headers: new Headers({
//                'Content-Type': 'text/plain'
//            })
//        });

        // Now use it!
//        fetch(request).then(function() { /* handle response */ });
//
//        fetch('/article/fetch/user.json')
//            .then(function(response) {
//                alert(response.headers.get('Content-Type')); // application/json; charset=utf-8
//                alert(response.status); // 200
//
//                return response.json();
//            })
//            .then(function(user) {
//                alert(user.name); // iliakan
//            })
//            .catch( alert );
//        fetch('http://4pda.ru/', {
//            method: 'get',
//            mode: 'no-cors',
////            headers: new Headers({
////                'Content-type': 'text/html'
////            })
//        }).then(function (text) {
//            console.log(text.ok);
//            console.log(text.status);
//            console.log(text.url);
////            return text.json();
//        })
//// .then(function (test) {
////            console.log(test)
////        })
//import 'whatwg-fetch';
//    fetch('https://picshare-sfedu.azurewebsites.net/sql/accounts/',{
//        method: 'post',
////        mode: 'no-cors',
//        mode: 'cors',
////        mode: 'same-origin',
////        mode: 'cors-with-forced-preflight',
////        credentials: 'include',
//        headers: {
//            'Content-type': 'application/json',
////            'Origin': 'http://mozilla.org'
////            ,
////            'Origin': ''
//
//        },
//        body: JSON.stringify({
//            "username": "cecil",
//            "password": 123,
//            "email": "ann@yandex.ru",
//            "gender": true,
//            "priv": false,
//        })
//    }).then(function(response) {
//        console.log(response.headers.get('Content-Type'));
//        console.log(response.headers.get('Date'));
//        console.log(response.status);
//        console.log(response.statusText);
//        console.log('awsd')
//    })
//        console.log("asd")

//    var stateObj = {foo: "bar"}
//    history.pushState(stateObj, "page 2", "bar.html")


//TODO FETCH
//    fetch('https://picshare-sfedu.azurewebsites.net/sql/accounts/cecil').then(function (res) {
//        return JSON.stringify(res);
//    }).then(function (res) {
//        console.log(res.status);
//        console.log(res.statusText);
//        console.log(res.url);
//        console.log(res);
//
//
//        console.log("dasd")
//    });
//let

//window.fetch('https://picshare-sfedu.azurewebsites.net/sql/accounts',
//    {method = "post" ,
//        body = testForm ,
//        headers = {"Content-Type": "application/json"}}
//    )
//    .then(function (res) {
//        var contentType = res.headers.get("content-type");
//        if(contentType && contentType.indexOf("application/json") !== -1) {
//            return res.json().then(function(json) {
//            });
//        } else {
//            console.log("Oops, we haven't got JSON!");
//        }
//});
//console.log('asdas')
//var form = new FormData(document.getElementById('form'));
//console.log(JSON.stringify(form));
////fetch("https://picshare-sfedu.azurewebsites.net/sql/accounts", {
////    method: 'POST',
////    body: JSON.stringify(form),
////    headers: {'Content-Type': 'application/json'}
////}).then(function (res) {
////    console.log('ok');
////    console.log(res.status);
////});
//console.log('asdas')

//fetch('https://picshare-sfedu.azurewebsites.net/sql/accounts/').then(function (res) {
//    return JSON.stringify(res);
//}).then(function (res) {
//    console.log(res.status);
//    console.log(res.statusText);
//    console.log(res.url);
//    console.log(res);
//
//
//    console.log("dasd")

//        ,{
//        method: 'get',
//    //        mode: 'no-cors',
//        mode: 'cors',
//    //        mode: 'same-origin',
//    //        mode: 'cors-with-forced-preflight',
//    //        credentials: 'include',
//        headers: {
//            'Content-type': 'application/json',
//    //            'Origin': 'http://mozilla.org'
//    //            ,
//    //            'Origin': ''
//
//        },

//    }
//    ).then(function(response) {
//       return JSON.stringify(response)
//    })
    </script>
</head>
<body>

<form id="form">
    <input name = "username" value="cecil" id="username">
    <input name="password" value="cecil" id="password">
    <input name="email" value="cecil@url.url" id="email">
    <input name="gender" value="false" id="gender">
    <input name="priv"  value="false" id="priv">
    <input name="photo" value="null" id="photo">
</form>
<script>
//    console.log('asdas')
//    var form = new FormData(document.getElementById('form'));
//    form.append('asd', 'test');
//    formtostr = form.toString()
//    console.log(form.toString())
//    console.log(JSON.stringify(form))
//    form11 = JSON.stringify(form)
//    form11 = {
//        "asdasd": "wtew"
//    };
//    console.log(JSON.stringify(form11))
//


//    console.log(JSON.stringify(form));
//    console.log(form)
//    function objectifyForm(formArray) {//serialize data function
//
//        var returnArray = {};
//        for (var i = 0; i < formArray.length; i++){
//            returnArray[formArray[i]['name']] = formArray[i]['value'];
//        }
//        return returnArray;
//    }
//    objectifyForm(form);
//    console.log('asdas')
//    console.log(objectifyForm(form))
//    console.log(JSON.stringify(objectifyForm(form)))
//    //fetch("https://picshare-sfedu.azurewebsites.net/sql/accounts", {
//    //    method: 'POST',
//    //    body: JSON.stringify(form),
//    //    headers: {'Content-Type': 'application/json'}
//    //}).then(function (res) {
//    //    console.log('ok');
//    //    console.log(res.status);
//    //});
//    console.log('asdas')

    fetch("https://picshare-sfedu.azurewebsites.net/sql/accounts/cecil", {
        method: "GET"
    }).then(function (res) {
        console.log(res)
    })
</script>
</body>
</html>
